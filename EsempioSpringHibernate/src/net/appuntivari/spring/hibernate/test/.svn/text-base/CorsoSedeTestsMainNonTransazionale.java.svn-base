package it.tcweb.mains;

import it.tcweb.model.dao.IDAOService;
import it.tcweb.model.dto.Corso;
import it.tcweb.model.dto.EdizioneCorsuale;
import it.tcweb.model.dto.Sede;

import org.springframework.context.support.AbstractApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class CorsoSedeTestsMainNonTransazionale {

	
	public static void main(String[] args) {
		
		/* Carico il contesto di Spring */
		AbstractApplicationContext ctx = new ClassPathXmlApplicationContext(
				new String[]{
				"it/tcweb/config/spring/dao/spring_hibernate_config.xml"				
		});
		
		/* TEST INSERIMENTO DI UN CORSO E DI UNA SEDE */
		//Creo un Corso
		Corso corso = new Corso();
		corso.setArea("AreaHibernateTemplateCipss");
		corso.setDescrizione("CorsoHibernateTemplateCipss");
		corso.setTitolo("HibernateTemplateCip");
				
		//Creo una sede
		Sede sede = new Sede();
		sede.setIndirizzo("SedeHibernateCips");
		//Descrizione volutamente tolta per verificare la gestione 
		//delle transazioni
		//sede.setDescrizione("SedeHibernateCips");
									
		//Creo una EdizioneCorsuale
		EdizioneCorsuale edizioneCorsuale = new EdizioneCorsuale();		
		edizioneCorsuale.setCorso(corso);
		edizioneCorsuale.setSede(sede);
		
		IDAOService iDAOService = (IDAOService) ctx.getBean("dbServiceTarget");
		iDAOService.createSedeCorso(edizioneCorsuale);
		
		
	}
	
}
